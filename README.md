<div align="center">
  <p>
    <a href="https://www.nuget.org/packages/Http.Request.Builder/" target="_blank">
      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAE6BJREFUeJztnQl0VFWax/vMnDlnRBpQFgUF4gbihi14aI+2gtMtMG6oIIgLaIPSgoJCI2DbgNgKikJro+gABgVka4alg/WKhMpeSWWvUCExCYTskEWgMuN0j843/1upKl4qb7mvql7dSqjvnN8B9OTVfff3veXe+93Kz34Wi1jEIhaxiEUsYhGLWMQiFhGLNusl14OP2J+i2xKLCAekjwV/BQQSwQbRbYpFBAPCd3vly4l4EsjuQl95E7HELV1yHtB5L+e8nPXTg76XerS2Sj3SwFctUo/VYEik295lA508D1QrJABjXgQ+f4PSZzPpSuLPdRTvodULxFNzO7ubpEtbwf4z0qUPmH0OXTrYVaYin7z/z7R3Ahx7BTinJb7zVa8s3icf0j2c8XJaujS3EcnQKPV8x6zz6LKhdvUF8JGJn9/EL/4So+I9QD41SD0Z/1Uv9TxeJ/V8xazz6VLhffFL4EgAxgqT2uAXr/Wc1xLfrC+eIJ7qvNRKPStqpJ/HXnJVXvzUYFfq2HC3IRzim/jFE8R7qAanLuYkgMzpoNhAAjB2h7sdZoqvl4mv7SjeQ5XUi05KvS7OJIDMdIPyTXkUGBPfQ1V8I4f4ar/4nzPxHk6AyostCSBxNfghyAQI6VHgbqu+AtwHXgKrAsbykRbvoULqTeVS72lh7OLoDe9EC8+bf1geBZD8KyYapINWQHJ0xvKKb/Zq4us0xFepi6fvQJnUO9XMfo+aaGufZQtFvuYsIaQOB/PAAXA+UHggRsQ35z9JLa4Ffpqdc6jJ+eLfTzsm1tSn3HS8RurdZlS8Vz6VSn3ouNRnYqR9RDQg7XGQG6YEYDzFjguRvcELQAL/qyddDs9Ynl3xTTmP8ByPfbal3vHQ3iqpT52a+PLO4qmknUOiHZkabe1z6+GST22JfRzu09at6PQfjEiXwzuWb3EtNHrsH+rypuRV4q7AIZ5c4Jh0GYl2ZFq0tU+5ng9rAgC369WgxPvgncRpNp4AHhq/W/Vj5dG484HijweILwZOUCRddqNoV6YEZLWEVbxs9i6UBOCdxGkKMgEYda7XqOxI/w5XvVy8TD4VSpd/LNqVKWGGeN8kTigJwDuka3ItCulzOMRTAciXLu+eo4FwyvfP3mWMofPO34YkhncsfybEBCi1DfeIP6YunvI89G0Q7cqUaAth7O8Rb7+Xzuc8ROfzp7TD/l67IyQpDN5JnNMhJkC5/d9UxbfL70u5IEfq2yraVUQDgv/OdcUjAUKVrQTvJE6oCVCR86hffOBV7xVPDpAt9W0T7SSioZQAiuvyJiWAyipdp0mcxhATwJUyUk88ZUn9yC71u3jvAFrr8mYlgJ5430ROg+v3QX9Ga1MKVRTM0BNPmexP64AS0U4iGiwBeAoyzpqUAArLsx3E+yZxQkmAE865iuKzIVwuP0PqTyWFs1rwM1eL9hKxgPR/8BRkfG9SAsjFn+wgvleH2bv6IBOg0jmPcq39dcT3o3TITwNNTans52rAaNFuIhKQ/g+egoxWkxJASXxFp2nb3lRnMAFacNuvxJXf8apXF58KUoDsGOWgn2g/pgZO8F/PWXv+H09BhlkJoCfeN3tXayABThxbSPmJg1Wf80rik6UBVJT3TOCx7OAS0Z5MCZzYP4EDZ629uAoyWkxKAIV1+U6LNWz27pTzZdVjfN+aS1WuxVSCsb7WC56aeJuX+vr9Ssffx/pKtK+wB05qBTvBs9beXAUZzSYlgMq6vF+8f+rW2o9cthvo2NHryZkUR0WJVylN4gQl/igo6Hz1y1ki2ldYAyf0IPjJc/UgAXgKMppMSgBd8QGzd5xjeY9435t9R/kD/PKZ+CTpCkq13UJ19Qe02sn66l7R3sISOJEh4Kzv5FqRAFwFGSYlgNq6fCTEJ4IjoLR0JU9bT7O+E+0vpMAJ9AB58hNrQQLwFGScsd9nSgJorMsrLtbwjOV5xVtBEYaJBtrL+u5fRHsMOtD4OYEn1Wztw1WQ0WhSAgSKV1ulMy6+v6b4o7abjcr3MUe0x6ACDe8HmgJPqAkJwLO5wqwE0FiX94s3OpbXEi+B3LxnqYTvtq8E68OuNz+ARm9UOqHTSACegowG+9iQRJ/FUK3WtYiqMZw7mf8MldvHUVnanXQs8WqTxA/oJN6WfDvlQH6t9gsfDxtF+zQUaPBo8KPSyTQiAXgKMuoNJEBzzQ46lfMIlSUO6vSM1yrICNeQznfV+8Rn2sdTcuovqax8bbjuXKwv7xTtlTvQ2Hi1k2mwXsZVkFGnkQCtDQepJn86lScNNjSkM1N8ZuavyWodTI6cqVRTu8eMx1e8aK9cgYbe4Nao1a9HAvAUZNTilh0ovZZJTxxo6lg+ULzem32O4wlygOqab8yQLof16SDRfnXDrfLs91GHRwBPQUa1NwHOVHxAJ9NGqc7eiRrLt9/uryQL+Bak2ydQasb9VH7iUzOTYL1ov5qBBg4E/611EjW4A6hsm+6wLn8Kj4BK23VcmyuMjuXDKf4wSJAG0t/AIZCYehelO6ZQVc1OMxKA9e1loj2rBhq3QO8kqpEA2gUZ7evyLAEMbK6IyCSOlviD4IA0iPaD/wQp2ZPI4QxtE4sKC0R7Vg00rlDvBE4hAXgKMvTE643leQsy+Mby/OL3gb9KV9FesAccsT9IZVVbwpkAhaI9KwYadjvPCZxEAvAUZHDuqjF9LB+s+N1gl3Q17QSWzImUVRxakWkAt4v23SnYCwpP408gAdTEK73Z82yu6Cyef0gnF5+oKv7KoMR/A3aA7dJg2m6No3Tn/HAlQPS9DKJRVTyNr0QChEO80bF8Tvo9XJM4geLlV/0BYFT8NvA1+EoaQltBlustOtOa370eA2hQHG/jK6z9+AoyNMWrv9nnJt/mF5+ZdB3l28fTsYLnqbHhW2ptzaPiwtlcz/li1zJKsA5RFL8vCPHxliH0JdhiGUqZSILqxsRQEoDVC/QV7d0faMxM3saXIwHCOZZ3JA71iM9OupaK7A9QTdUmzc/nfcFzIgH8SVu1mWz2f6f9uI3zix/cLl66IH4z2AT+AyQVzKX6psxQkmCSaO/+cGtM/QZSZu0flrF8cdYEyrXdRJWlyw11HO+bfZEsAeSUnviUpIxfGxA/pIP4Lyxx9DnYCGzO4PceuKPpPQCNKeVteCkSIBTxJTmPkytnMjXU7gqq43iHdIUqCeA/j5ObyIIhXjDiPwOfWq6hDeBI0WvBJkCuaO+eQEP+2a2y8qdECRIgmLG8M2MsHc+bTo3KlbTc8A7pClxvch0vr/Qd2mMbZVj8X8An4GPLtWQtej2YcznH+l60f5YANxpp+DHrAENDOof1CnLi2V6r82znhXcsn8+ZAAz2Vm/Hi11H8UN1xf8ZrAfrgP279cGcT5xo/ywBJhlpdDESgHcSJycxjr4rDu90Ku9YPs/1B8PHznT9keITbzUk/iPLdfQh2JQylmqNvxROEO2fa/5fThGuaJ6xvCPpGqpwvRFW+QzeSZzcIBLAk+Ant9DezIchPo5L/FrwAXjfcj1ZnIbPV/y6ABrxiZFGFyABeCZxCnHbD7d8Bu8kTk6QCcAordlDBxxPc4tfA1aD90C6sUfBh6L9GxoCMvKRAHqzd2yVrsA+3pQE4J3EcYSQAIyK+gQ6lDebW/y7lhvoT2BDyv1GPkd8rSAasdNIx+Rar+Ral883KQEuyNeexMnGS12on3W8Zi/txZ2AR/w7YBV42zKMjpa+z/sZO0X7ZwlgMdIpDiRAFse6fK5JCRAofofKJE5WGBKAwd7uNybfoym+Xf4wj/yV4EPb3bzHt4j2zxIgy0iHZFsHcm2uyDEpAS7I1569ywxTAjAOFy2Uyb8h4Kq/IH4FWG4ZTn8EiaUf8Bw7S7R/wwlgRwLwFGRk2yeYkgBMfOBijdIkTkYYE8DzudlPc4l/C/wBrLFx7Y2MigQw9AjIsA7iKsjIMikB1FbpAidx0jGmD+fnFlfvpnj7ZF3xb1pupGVgKcip2q533Kh4BOw30hFpSIBA8cqbK8xJADXxPvm+SZy0MCcAQ3Kt5BK/BLwBPst6Su+YUfESaGgUkGK9iqsgI8OkBJCvy29WEN8+exdHqSYkQENrAR0sXhogfngn8W9YRtBi8Hugc8x40f519wEEkowE4CnISDMpAQLFBy7W+GbvjhYvMeXzDxa/6Rff+aq/IH4RWGi5iZIrvtA6XlTMA6ww0gFHrVdzFWSkmpQAvKt09c1Zpnx+TXM27S1cpCv+dfAaeD/9Ya3jif8qGTRimpEOSEQC8BRkJJuUAFuTRmqK/7N36taMz/bxedY0XfGMBezf0kitY4mvCnJzloP7YBsoeQoybCYlAHu711ul+ybzUVMTIKdqB61J+Y1M/AiP+Ndl4udbbqZXwSugpOGI2rHE/7YRNKKX20BBiAUJwFOQkWSfaErns7V79oKntkq3PeMRKjj5pakJwFikcNUHip/nZUv+AqVjsD4XXxDCAg0p4z3xw9YhXAUZiSYlAOM0kiDFtbzTKt32zEkRkc9Yi2e7kni5/LmWW+hlsCZzqtIxykR794fbwIogK7XmKchgW6oiIUIUW/Pn64r/HZgDltjGKR0jXrR3f7gNlIUfQgLwFGRI3TwBjuO5vib9UVXxPvkvWW6lF4HCMWaK9u4Pt4GNIQesQ7kKMiz2h4RLMptA8S8riGfMBnWthYE/Hyfae4dwc24N491ccfgiSAAe8bPAby230S7Xu/KfLRXtu1O4OUvD9iEBeAoyEuyaEyDdgletv9AVz3gBxDs7VCitEe27U7g55wOY+I5XvfK6/KHM7p8AC5Pu9oh/SUP882Am+KKwwy6i6NsezsLN8QUR+47eoig+cF3+cPY04YLMT4BfaYpvlz+SZoCNFxIgunYGy8PNUSKekv8CV0FGWXVwW7+6Eq8l3eMRP0tD/HNeZAkgvhRcLdC4/m6d3+xdVf83krIf1yzI2GYbLVxOJJh7ZIxfvPx2P0Mm/1nwDNjs9FQosb7tL9qzZrg5lofTnPNV1+V3pY6j7NL3hMuJBLOlOzTFt8u/nZ4G3gSInh3BaoFGDnNrfFGkj6ySFbQt6bYOBRm70n9DBRWmfs9eVMEjnjEdbHO9x74UYqBov1zhNrhZ5GKksimTVmfNUBA/soP4p7ycaHbsEu2VO3CCI0R3cLTzJcb1POKngeesv2Q/M0K0V0PhNlgqdrGxNudFXfHTLL+gqeB3tgeaRfs0HG6VXxgRo51ZR+7yP+eny+TLxT/pZbp1jPjy72DCrfArY2JUU0WTnVY7ZqmK98mf4mWy5Y6Vol0GHTjhdNEdHm1swpBOS/yTfvEe+fSE5Y4rRHsMOnDC14A20Z0eTcxLfsArX1c844xohyGH20DBSHcn5dQuWpT2GI94erydPaL9hSXcsbkBDyuyZnYSP0VZPD3WzjjR7sISOPlLwTHRAkTiufrTn+AVT5Msd7hFewtroBMGgUrRIkSxHFe/XPxkdfFgFD1qGRX9c/9GAx1xLagTLSPSfHnsHTae7yBeWf4on3zGMNG+TAl0yM2gQbSUSJFTl0DvOF4yIp4esYxKEO3J1EDHDHdzFpJ2dVbnzjMi3sPDllEPinZkeqBzhsqToKG1kBJcb3t2zr6ffD99Zp9Kmx3P09f582iPcylVhfb16kL4tOhNo+IZ3fvql4c3CTzfNs7kq31RAttH9wkSQr6davGR0bQs6W56O2U8rbM/RVsLF1JZo024dLl8XvEy+WB097/65YHOuhzsWcKxX759O1XnTZS+Gvs/pT/mL7VebBtHB0vXCZH/uXM5TZHuNCqeIf5LH0TFMunW/9HbL68mXm1zxWLb/RGXvwFXvpp4hdu9TzyjBdwm2oOwgPgDRsQHbqJU21wRSfl/8cqXjeV5xPt4W7QDobHQMmI8xBdq7Zc3Ip6xMmNyRMQ7MNR7F2/7HC94SuIZ0bfbR0RofVGCkni9XTVJJ8zf7x/vWk3PJt4XrHiGDQwV3fdRERB/Uk/8HAXxSpsrNhctNVX8tyfiaWHG1FDEM+rAFNH9HjUB+V+rfVGCnnh5jf3OEvP2FiRVfUPL7M9xiNeV3wqWie7zqAqIvwvic9S+KGG2X76yeF+N/dyke2mL8y2qbLKHTfyBii/o1bTHwiGe8dNF/9KnFkriA5/zetupfJsr1uW9QvOTJ9Da3LmUixc1I8JLTqfSJ4VLPdINjuV55H8sup+jNiC+lFf8TEXxyqXWi9Of8FfiTJfupLnJE2lxxpP0lv1Z/DmV5uDfTx+5O9jZO14aY/J1AtK/1tsvb0S8Uqk1Z0FGMGN5LRyxZz5HQPxdEJ+sJ/65EMVzFGSES7xnihfMEN23XSZ4xfNurlASH8QqXTDiffIv3ineYALinUpflMArXmFzhQjx28AG0X3ZJQNX/ValL0rgFa9Tam1AfFDyy8FWMEZ0P3bZgPgxEJ8VKF72nE8AbVEmvgE4wRzR/dctQumLErwveK0Q/+DUdhLCIT7E230yqAQLRfdZtwpId3Z+s/dc7R1m0CB+GMSvh/iWCIo/Dn4Ee0D32LwRbQHxaxSGdJpbpSB9DNgK6T8GUZChx2Hvn7aHYws45gfED4X4dbIhXTzgvtogfiCErwLZoA7Sf+IUnyj7e6v3uR4byokIiB8G6evBRtzqwyIAIgeCVWC9V6yP9d7/3jW+jCkWsYhFLGIRi1jEIhaxiEUsDMf/A1AKx8kfB521AAAAAElFTkSuQmCC" width="100px" />
    </a>
  <h1>Http.Request.Builder</h1>
  </p>
  <p>
    <a href="https://www.nuget.org/packages/Http.Request.Builder/" target="_blank"><img src="https://img.shields.io/nuget/v/Http.Request.Builder.svg" alt="NuGet" /></a>
    <a href="https://learn.microsoft.com/en-us/dotnet/core/whats-new/dotnet-8/overview" target="_blank"><img src="https://badgen.net/badge/.net/v8.0/purple"/></a>
    <a href="https://learn.microsoft.com/en-us/dotnet/core/whats-new/dotnet-8/overview" target="_blank"><img src="https://badgen.net/badge/.NetStandard/v2.1/blue"/></a>
    <a href="https://www.nuget.org/packages/Http.Request.Builder" target="_blank"><img src="https://img.shields.io/nuget/dt/Http.Request.Builder"/></a>
  </p>
  <p>An .net package for easier sending request as builder use retry pattern.</p>
</div>

Http request as builder pattern for easier to use.
You can config it to try request again a few more times, if the request was failed. You can map the response in an object of class.

## How to install?
In .Net - [NuGet](https://www.nuget.org/packages/Http.Request.Builder):
```
Install-Package Http.Request.Builder
```

## Quick use:
```csharp
// Prepare request object.
var request = RequestBuilder.Create("YOUR_URL")
    .Build();
    
// Send request and get response.
var response = await request.SendAsync();

//Console.WriteLine($"{response.StatusCode} {response.Content}");
```

## Configs
```csharp
var request = RequestBuilder.Create("YOUR_URL")
    .WithBearerToken("JWT_TOKEN")                 // <--- Authentication as bearer token here!
    .WithHeader("Accept", "application/json")     // <--- Your custom headers!
    .WithHeader("CUSTOM_KEY", "CUSTOM_VALUE")     // <--- Your custom headers!
    .WithRetryAttemptsForFailed(options =>
    {
        options.MaxRetries = 5;                   //   <--- Number of retries after failure!
        options.Delay = TimeSpan.FromSeconds(1);  //   <--- Number of retries after failure!
    })
    .Build();
```

## Asp.Net core example:
☝ Create your custom client (for example we create `WeatherClient.cs`) and register in `startup.cs` or `program.cs`.
### `Program.cs`:
```csharp
// ...
builder.Services.AddHttpClient<WeatherClient>();
// ...
```
### `WeatherClient.cs`
```csharp
    public class WeatherClient
    {
        private readonly HttpClient _httpClient;

        public WeatherClient(HttpClient httpClient)
        {
            _httpClient = httpClient;
        }

        public async Task FetchAsync()
        {
            var request = RequestBuilder.Create("https://Weather_URL/Get", HttpMethod.Get, _httpClient) // <--- Pass your client here!
              .Build();

            var response = await request.SendAsync();
        }
    }
```
